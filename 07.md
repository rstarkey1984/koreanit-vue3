# Express 라우트 정의 방식 이해

## 강의 목표

* Express에서 라우트를 정의하는 두 가지 방식을 이해한다
* 두 방식이 기능적으로 동일하다는 것을 안다
* 언제 어떤 방식을 사용하는 것이 좋은지 판단할 수 있다
* Router + Controller 구조에서 `.route()`가 자주 사용되는 이유를 이해한다

---

## 1. 라우트란 무엇인가

Express에서 라우트(Route)는 다음을 연결하는 개념이다.

* HTTP 메서드 (GET, POST, PUT, DELETE)
* URL 경로
* 실행할 함수(요청 처리 함수)

예:

```
GET /api/news → handler 함수 실행
```

---

## 2. `.get / .post / .put / .delete` 방식

### 기본 문법

```js
app.get("/", handler);
app.post("/", handler);
app.put("/", handler);
app.delete("/", handler);
```

### 특징

* HTTP 메서드 기준으로 한 줄씩 라우트를 정의한다
* 가장 직관적인 방식이다
* Express를 처음 배울 때 이해하기 쉽다

### 단점

* 같은 URL이 반복된다
* CRUD API가 많아질수록 코드가 길어진다

---

## 3. `.route()` 방식

### 기본 문법

```js
app
  .route("/")
  .get(handler)
  .post(handler)
  .put(handler)
  .delete(handler);
```

### 의미

* URL을 먼저 고정한다
* 같은 URL에 대해 HTTP 메서드만 묶어서 정의한다

### 특징

* REST API 구조가 한눈에 보인다
* 실무에서 더 많이 사용되는 패턴이다

---

## 4. 두 방식은 기능적으로 동일하다

아래 두 코드는 완전히 같은 동작을 한다.

### 방식 1

```js
app.get("/", a);
app.post("/", b);
```

### 방식 2

```js
app
  .route("/")
  .get(a)
  .post(b);
```

차이는 표현 방식뿐이다.

---

## 5. 언제 어떤 방식을 사용하는가

### `.get / .post` 방식이 좋은 경우

* API 개수가 적을 때
* 단일 메서드만 사용하는 엔드포인트
* 학습 초반 개념 설명 단계

예:

```js
app.get("/health", healthCheck);
```

---

### `.route()` 방식이 좋은 경우

* 같은 URL에서 CRUD를 처리할 때
* Router + Controller 구조를 사용할 때
* REST API를 구성할 때

예:

```js
app
  .route("/api/dev/:path")
  .get(getOne)
  .post(getOne)
  .put(updateOne)
  .delete(deleteOne);
```
---

## 핵심 요약

* `.get / .post` 방식

  * 메서드 기준으로 라우트를 나열한다

* `.route()` 방식

  * URL 기준으로 메서드를 묶는다

* 두 방식은 기능적으로 동일하다

* 구조화된 API 서버에서는 `.route()` 방식이 더 읽기 좋다
