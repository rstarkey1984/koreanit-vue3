# ë¹„ë™ê¸° ì²˜ë¦¬ì™€ ì—ëŸ¬ ê´€ë¦¬

ì´ ê°•ì˜ëŠ” **ì½œë°± ê¸°ë°˜ JavaScript ì‹¤í–‰ ì›ë¦¬ ì´í›„ ë‹¨ê³„**ë¡œ,
ì„œë²„ ê°œë°œì—ì„œ ë°˜ë“œì‹œ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” **ë¹„ë™ê¸° ê²°ê³¼ ì²˜ë¦¬ ë°©ì‹ê³¼ ì—ëŸ¬ ì²˜ë¦¬ êµ¬ì¡°**ë¥¼ ë‹¤ë£¬ë‹¤.

ì½œë°± â†’ Promise â†’ async/await íë¦„ì„ ë”°ë¼ê°€ë©°,
ì‹¤ì œ ì„œë²„ ì½”ë“œì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” **fs ëª¨ë“ˆ ê¸°ë°˜ ì˜ˆì œ**ë¡œ ê°œë…ì„ ì •ë¦¬í•œë‹¤.

---

## ì‹¤ìŠµ í´ë” êµ¬ì¡°

```text
koreanit/node-async/
 â”œâ”€ 01-sync-async.js
 â”œâ”€ 02-promise-basic.js
 â”œâ”€ 03-async-await.js
 â”œâ”€ 04-fs-callback.js
 â”œâ”€ 05-fs-promise.js
 â””â”€ 06-error-handling.js
```

---

## 1. ë™ê¸°(Sync)ì™€ ë¹„ë™ê¸°(Async)

### ê°œë… ì„¤ëª…

* **ë™ê¸°**: ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ë‹¤ìŒ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤
* **ë¹„ë™ê¸°**: ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì€ ë§¡ê²¨ë‘ê³  ë‹¤ìŒ ì½”ë“œë¶€í„° ì‹¤í–‰í•œë‹¤

ë¹„ë™ê¸°ëŠ” ë™ì‹œì— ì‹¤í–‰ëœë‹¤ëŠ” ëœ»ì´ ì•„ë‹ˆë‹¤.
**ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œë¡œ ë„˜ì–´ê°€ëŠ” ì‹¤í–‰ ë°©ì‹**ì´ë‹¤.

Node.jsëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ JavaScript ì½”ë“œë§Œ ì‹¤í–‰í•˜ì§€ë§Œ,
íŒŒì¼ ì½ê¸°, ë„¤íŠ¸ì›Œí¬, DB ê°™ì€ ì‘ì—…ì€ **ì™¸ë¶€ ì‹œìŠ¤í…œ(I/O)** ì— ë§¡ê¸´ë‹¤.

---

### ì‹¤ìŠµ 1

ğŸ“„ íŒŒì¼ëª…: `01-sync-async.js`

```js
console.log("1");

setTimeout(function () {
  console.log("2");
}, 1000);

console.log("3");
```

ì‹¤í–‰ ê²°ê³¼

```text
1
3
2
```

* ë¹„ë™ê¸° ì½”ë“œëŠ” ì‹¤í–‰ ìˆœì„œë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤
* ê²°ê³¼ëŠ” **ë‚˜ì¤‘ì— ì½œë°±ì„ í†µí•´ ëŒì•„ì˜¨ë‹¤**

### ì½œë°± ë°©ì‹ì˜ ë¬¸ì œì 
```javascript
const fs = require("fs");

fs.readFile("data.txt", "utf-8", (err, data) => {
  if (err) return console.error("ì½ê¸° ì‹¤íŒ¨");

  fs.writeFile("out1.txt", data.toUpperCase(), (err) => {
    if (err) return console.error("ì“°ê¸° ì‹¤íŒ¨");

    fs.writeFile("out2.txt", data + "!!!", (err) => {
      if (err) return console.error("ì“°ê¸° ì‹¤íŒ¨");

      fs.readFile("out2.txt", "utf-8", (err, result) => {
        if (err) return console.error("ì½ê¸° ì‹¤íŒ¨");

        console.log(result);
      });
    });
  });
});
```

---

## 2. Promiseì™€ ë¹„ë™ê¸° ê²°ê³¼ ì²˜ë¦¬

### ê°œë… ì„¤ëª…

PromiseëŠ” **ë¹„ë™ê¸° ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ì•½ì†ëœ í˜•íƒœë¡œ ë‹¤ë£¨ê¸° ìœ„í•œ ê°ì²´**ë‹¤.



* ì‹¤í–‰ íë¦„ì„ í•œëˆˆì— ë³´ê¸° ì–´ë µë‹¤
* ì—ëŸ¬ ì²˜ë¦¬ê°€ ë¶„ì‚°ëœë‹¤
* ì¤‘ì²©ì´ ê¹Šì–´ì§ˆìˆ˜ë¡ ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤

PromiseëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ìƒíƒœë¥¼ ëª…í™•íˆ ë‚˜ëˆˆë‹¤.

* pending (ëŒ€ê¸°)
* fulfilled (ì„±ê³µ)
* rejected (ì‹¤íŒ¨)
---

### ì‹¤ìŠµ 2

ğŸ“„ íŒŒì¼ëª…: `02-promise-basic.js`

```js
function work() {
  return new Promise(function (resolve, reject) {
    setTimeout(function () {
      resolve("ì‘ì—… ì™„ë£Œ");
    }, 1000);
  });
}

work()
  .then(function (result) {
    console.log(result);
  })
  .catch(function (error) {
    console.log("ì—ëŸ¬ ë°œìƒ", error);
  });
```

* PromiseëŠ” ë¯¸ë˜ì˜ ê²°ê³¼ë¥¼ ë‹´ëŠ” ê·¸ë¦‡ì´ë‹¤
* ê²°ê³¼ëŠ” `then`, ì‹¤íŒ¨ëŠ” `catch`ë¡œ ì²˜ë¦¬í•œë‹¤

### Promise í´ë˜ìŠ¤ íë¦„ ì˜ˆì‹œ
```javascript
new Promise(function (resolve, reject) {
  setTimeout(function () {
    resolve("ì‘ì—… ì™„ë£Œ");
  }, 1000);
}).then(function (result) {
  console.log(result);
}).catch(function (error) {
  console.log("ì—ëŸ¬ ë°œìƒ", error);
});
```
```javascript
class Promise {
  constructor(executor) {
    ...

    const resolve = (value) => {
      ...
      this.onFulfilled(value);
    };

    const reject = (reason) => {
      ...
      this.onRejected(reason);
    };

    executor(resolve, reject);
  }

  then(fn) {
    this.onFulfilled = fn;
    ...
  }

  catch(fn) {
    this.onRejected = fn;
    ...
  }
}
```
---

## 3. async / await ë¹„ë™ê¸° íë¦„ ì •ë¦¬

### ê°œë… ì„¤ëª…

`async / await`ëŠ” Promiseë¥¼
**ë™ê¸° ì½”ë“œì²˜ëŸ¼ ë³´ì´ê²Œ ì‘ì„±í•˜ëŠ” ë¬¸ë²•**ì´ë‹¤.

* `async` í•¨ìˆ˜ëŠ” í•­ìƒ Promiseë¥¼ ë°˜í™˜í•œë‹¤
* `await`ëŠ” Promiseê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤

---

### ì‹¤ìŠµ 3

ğŸ“„ íŒŒì¼ëª…: `03-async-await.js`

```js
function work() {
  return new Promise(function (resolve) {
    setTimeout(function () {
      resolve("ì‘ì—… ì™„ë£Œ");
    }, 1000);
  });
}

async function run() {
  const result = await work();
  console.log(result);
}

run();
```

* async/awaitëŠ” Promiseì˜ ë¬¸ë²•ì  í¬ì¥ì´ë‹¤
* ë¹„ë™ê¸° íë¦„ì´ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½íŒë‹¤

---

## 4. íŒŒì¼ ì‹œìŠ¤í…œ(fs) ê¸°ë³¸ ì‚¬ìš©ë²•

### ê°œë… ì„¤ëª…

ì„œë²„ëŠ” íŒŒì¼ì„ ìì£¼ ë‹¤ë£¬ë‹¤.

* ì„¤ì • íŒŒì¼ ì½ê¸°
* ë¡œê·¸ ì €ì¥
* ì„ì‹œ ë°ì´í„° ê¸°ë¡

Node.jsì˜ `fs` ëª¨ë“ˆì€ **ë¹„ë™ê¸° ë°©ì‹ ì‚¬ìš©ì´ ê¸°ë³¸**ì´ë‹¤.

---

### ì‹¤ìŠµ 4-1 (ì½œë°± ë°©ì‹)

ğŸ“„ íŒŒì¼ëª…: `04-fs-callback.js`

```js
const fs = require("fs");

fs.readFile("data.txt", "utf-8", function (err, data) {
  if (err) {
    console.log("íŒŒì¼ ì½ê¸° ì‹¤íŒ¨");
    return;
  }

  console.log(data);
});
```

* ì—ëŸ¬ëŠ” ì²« ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬ëœë‹¤
* ì´ íŒ¨í„´ì€ Node.js ì „í†µì ì¸ ë°©ì‹ì´ë‹¤

---

### ì‹¤ìŠµ 4-2 (Promise ë°©ì‹)

ğŸ“„ íŒŒì¼ëª…: `05-fs-promise.js`

```js
const fs = require("fs/promises");

fs.readFile("data.txt", "utf-8")
  .then(function (data) {
    console.log(data);
  })
  .catch(function (err) {
    console.log("íŒŒì¼ ì½ê¸° ì‹¤íŒ¨");
  });
```

* fsë„ Promise ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
* async/awaitì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤

---

## 5. ì—ëŸ¬ ì²˜ë¦¬ ë°©ì‹

### ê°œë… ì„¤ëª…

ì„œë²„ì—ì„œëŠ” ì—ëŸ¬ê°€ ë°˜ë“œì‹œ ë°œìƒí•œë‹¤.

* íŒŒì¼ ì—†ìŒ
* ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜
* ì˜ëª»ëœ ì…ë ¥ê°’

ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì„œë²„ëŠ” ë¹„ì •ìƒ ì¢…ë£Œë˜ê±°ë‚˜
ì´ìƒí•œ ìƒíƒœë¡œ ë™ì‘í•œë‹¤.

---

### ì‹¤ìŠµ 5

ğŸ“„ íŒŒì¼ëª…: `06-error-handling.js`

```js
const fs = require("fs/promises");

async function read() {
  try {
    const data = await fs.readFile("not-exist.txt", "utf-8");
    console.log(data);
  } catch (err) {
    console.log("ì—ëŸ¬ ì²˜ë¦¬ ì™„ë£Œ");
  }
}

read();
```

* async/awaitì—ì„œëŠ” `try/catch`ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•œë‹¤
* ì—ëŸ¬ë¥¼ ì¡ì§€ ì•Šìœ¼ë©´ PromiseëŠ” rejected ìƒíƒœë¡œ ë‚¨ëŠ”ë‹¤

---

## ì •ë¦¬

* ë¹„ë™ê¸°ëŠ” ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ” ì‹¤í–‰ ë°©ì‹ì´ë‹¤
* PromiseëŠ” ë¹„ë™ê¸° ê²°ê³¼ë¥¼ ë‹¤ë£¨ëŠ” í‘œì¤€ êµ¬ì¡°ë‹¤
* async/awaitëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ ì½ê¸° ì‰½ê²Œ ë§Œë“ ë‹¤
* ì„œë²„ì—ì„œëŠ” fsì™€ ì—ëŸ¬ ì²˜ë¦¬ê°€ í•­ìƒ í•¨ê»˜ ì‚¬ìš©ëœë‹¤

